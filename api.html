<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>StateMan Test</title>
  <script src="https://rawgit.com/leeluolee/stateman/v0.1.4/stateman.js"></script>
</head>
<body>

<h2>OPEN console to find the log</h2>

<ul>
  <li><a href="#/app">/home"</a></li>
  <li><a href="#/app/contact">/contact"</a></li>
  <li><a href="#/app/contact/option">/contact/list</a></li>
  <li><a href="#/app/contact/2">/contact/2</a></li>
  <li><a href="#/app/contact/2/option">/contact/2/option</a></li>
  <li><a href="#/app/contact/2/message">/contact/2/message</a></li>
</ul>


<script>
var config = {
  enter: function(option){ console.log("enter: " + this.name + "; param: " + JSON.stringify(option.param)) },
  leave: function(option){ console.log("leave: " + this.name + "; param: " + JSON.stringify(option.param)) },
  update: function(option){ console.log("update: " + this.name + "; param: " + JSON.stringify(option.param)) },
}

function cfg(o){
  o.enter = config.enter  
  o.leave = config.leave  
  o.update = config.update  
  return o;
}

var stateman = new StateMan();

stateman.state({
  "app": config,
  "app.contact":  config,
  "app.contact.detail": cfg({url: ":id"}),
  "app.contact.detail.setting": config, 
  "app.contact.message": config,
  "app.user": config,
  "app.user.list": cfg({url: ""}),
  "app2": cfg({url: ""})
}).start();

</script>
</body>
</html>